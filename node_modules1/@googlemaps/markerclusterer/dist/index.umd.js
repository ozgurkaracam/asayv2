!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).markerClusterer={})}(this,(function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?i:String(i)),n)}var o,i}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=i(t);if(e){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function d(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m=function(t){return t&&t.Math==Math&&t},g=m("object"==typeof globalThis&&globalThis)||m("object"==typeof window&&window)||m("object"==typeof self&&self)||m("object"==typeof p&&p)||function(){return this}()||p||Function("return this")(),y={},v=function(t){try{return!!t()}catch(t){return!0}},b=!v((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),w=!v((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),k=w,O=Function.prototype.call,S=k?O.bind(O):function(){return O.apply(O,arguments)},E={},M={}.propertyIsEnumerable,x=Object.getOwnPropertyDescriptor,j=x&&!M.call({1:2},1);E.f=j?function(t){var e=x(this,t);return!!e&&e.enumerable}:M;var P,A,_=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},T=w,C=Function.prototype,L=C.call,I=T&&C.bind.bind(L,L),N=T?I:function(t){return function(){return L.apply(t,arguments)}},D=N,R=D({}.toString),F=D("".slice),Z=function(t){return F(R(t),8,-1)},z=v,U=Z,B=Object,G=N("".split),V=z((function(){return!B("z").propertyIsEnumerable(0)}))?function(t){return"String"==U(t)?G(t,""):B(t)}:B,W=function(t){return null==t},$=W,H=TypeError,q=function(t){if($(t))throw H("Can't call method on "+t);return t},X=V,Y=q,K=function(t){return X(Y(t))},J="object"==typeof document&&document.all,Q={all:J,IS_HTMLDDA:void 0===J&&void 0!==J},tt=Q.all,et=Q.IS_HTMLDDA?function(t){return"function"==typeof t||t===tt}:function(t){return"function"==typeof t},rt=et,nt=Q.all,ot=Q.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:rt(t)||t===nt}:function(t){return"object"==typeof t?null!==t:rt(t)},it=g,at=et,st=function(t,e){return arguments.length<2?(r=it[t],at(r)?r:void 0):it[t]&&it[t][e];var r},ut=N({}.isPrototypeOf),ct=g,ft="undefined"!=typeof navigator&&String(navigator.userAgent)||"",lt=ct.process,ht=ct.Deno,pt=lt&&lt.versions||ht&&ht.version,dt=pt&&pt.v8;dt&&(A=(P=dt.split("."))[0]>0&&P[0]<4?1:+(P[0]+P[1])),!A&&ft&&(!(P=ft.match(/Edge\/(\d+)/))||P[1]>=74)&&(P=ft.match(/Chrome\/(\d+)/))&&(A=+P[1]);var mt=A,gt=mt,yt=v,vt=g.String,bt=!!Object.getOwnPropertySymbols&&!yt((function(){var t=Symbol();return!vt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&gt&&gt<41})),wt=bt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,kt=st,Ot=et,St=ut,Et=Object,Mt=wt?function(t){return"symbol"==typeof t}:function(t){var e=kt("Symbol");return Ot(e)&&St(e.prototype,Et(t))},xt=String,jt=function(t){try{return xt(t)}catch(t){return"Object"}},Pt=et,At=jt,_t=TypeError,Tt=function(t){if(Pt(t))return t;throw _t(At(t)+" is not a function")},Ct=Tt,Lt=W,It=S,Nt=et,Dt=ot,Rt=TypeError,Ft={exports:{}},Zt=g,zt=Object.defineProperty,Ut=function(t,e){try{zt(Zt,t,{value:e,configurable:!0,writable:!0})}catch(r){Zt[t]=e}return e},Bt=Ut,Gt="__core-js_shared__",Vt=g[Gt]||Bt(Gt,{}),Wt=Vt;(Ft.exports=function(t,e){return Wt[t]||(Wt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.31.0",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.0/LICENSE",source:"https://github.com/zloirock/core-js"});var $t=Ft.exports,Ht=q,qt=Object,Xt=function(t){return qt(Ht(t))},Yt=Xt,Kt=N({}.hasOwnProperty),Jt=Object.hasOwn||function(t,e){return Kt(Yt(t),e)},Qt=N,te=0,ee=Math.random(),re=Qt(1..toString),ne=function(t){return"Symbol("+(void 0===t?"":t)+")_"+re(++te+ee,36)},oe=$t,ie=Jt,ae=ne,se=bt,ue=wt,ce=g.Symbol,fe=oe("wks"),le=ue?ce.for||ce:ce&&ce.withoutSetter||ae,he=function(t){return ie(fe,t)||(fe[t]=se&&ie(ce,t)?ce[t]:le("Symbol."+t)),fe[t]},pe=S,de=ot,me=Mt,ge=function(t,e){var r=t[e];return Lt(r)?void 0:Ct(r)},ye=function(t,e){var r,n;if("string"===e&&Nt(r=t.toString)&&!Dt(n=It(r,t)))return n;if(Nt(r=t.valueOf)&&!Dt(n=It(r,t)))return n;if("string"!==e&&Nt(r=t.toString)&&!Dt(n=It(r,t)))return n;throw Rt("Can't convert object to primitive value")},ve=TypeError,be=he("toPrimitive"),we=function(t,e){if(!de(t)||me(t))return t;var r,n=ge(t,be);if(n){if(void 0===e&&(e="default"),r=pe(n,t,e),!de(r)||me(r))return r;throw ve("Can't convert object to primitive value")}return void 0===e&&(e="number"),ye(t,e)},ke=we,Oe=Mt,Se=function(t){var e=ke(t,"string");return Oe(e)?e:e+""},Ee=ot,Me=g.document,xe=Ee(Me)&&Ee(Me.createElement),je=function(t){return xe?Me.createElement(t):{}},Pe=je,Ae=!b&&!v((function(){return 7!=Object.defineProperty(Pe("div"),"a",{get:function(){return 7}}).a})),_e=b,Te=S,Ce=E,Le=_,Ie=K,Ne=Se,De=Jt,Re=Ae,Fe=Object.getOwnPropertyDescriptor;y.f=_e?Fe:function(t,e){if(t=Ie(t),e=Ne(e),Re)try{return Fe(t,e)}catch(t){}if(De(t,e))return Le(!Te(Ce.f,t,e),t[e])};var Ze={},ze=b&&v((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ue=ot,Be=String,Ge=TypeError,Ve=function(t){if(Ue(t))return t;throw Ge(Be(t)+" is not an object")},We=b,$e=Ae,He=ze,qe=Ve,Xe=Se,Ye=TypeError,Ke=Object.defineProperty,Je=Object.getOwnPropertyDescriptor,Qe="enumerable",tr="configurable",er="writable";Ze.f=We?He?function(t,e,r){if(qe(t),e=Xe(e),qe(r),"function"==typeof t&&"prototype"===e&&"value"in r&&er in r&&!r[er]){var n=Je(t,e);n&&n[er]&&(t[e]=r.value,r={configurable:tr in r?r[tr]:n[tr],enumerable:Qe in r?r[Qe]:n[Qe],writable:!1})}return Ke(t,e,r)}:Ke:function(t,e,r){if(qe(t),e=Xe(e),qe(r),$e)try{return Ke(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Ye("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var rr=Ze,nr=_,or=b?function(t,e,r){return rr.f(t,e,nr(1,r))}:function(t,e,r){return t[e]=r,t},ir={exports:{}},ar=b,sr=Jt,ur=Function.prototype,cr=ar&&Object.getOwnPropertyDescriptor,fr=sr(ur,"name"),lr={EXISTS:fr,PROPER:fr&&"something"===function(){}.name,CONFIGURABLE:fr&&(!ar||ar&&cr(ur,"name").configurable)},hr=et,pr=Vt,dr=N(Function.toString);hr(pr.inspectSource)||(pr.inspectSource=function(t){return dr(t)});var mr,gr,yr,vr=pr.inspectSource,br=et,wr=g.WeakMap,kr=br(wr)&&/native code/.test(String(wr)),Or=ne,Sr=$t("keys"),Er=function(t){return Sr[t]||(Sr[t]=Or(t))},Mr={},xr=kr,jr=g,Pr=ot,Ar=or,_r=Jt,Tr=Vt,Cr=Er,Lr=Mr,Ir="Object already initialized",Nr=jr.TypeError,Dr=jr.WeakMap;if(xr||Tr.state){var Rr=Tr.state||(Tr.state=new Dr);Rr.get=Rr.get,Rr.has=Rr.has,Rr.set=Rr.set,mr=function(t,e){if(Rr.has(t))throw Nr(Ir);return e.facade=t,Rr.set(t,e),e},gr=function(t){return Rr.get(t)||{}},yr=function(t){return Rr.has(t)}}else{var Fr=Cr("state");Lr[Fr]=!0,mr=function(t,e){if(_r(t,Fr))throw Nr(Ir);return e.facade=t,Ar(t,Fr,e),e},gr=function(t){return _r(t,Fr)?t[Fr]:{}},yr=function(t){return _r(t,Fr)}}var Zr={set:mr,get:gr,has:yr,enforce:function(t){return yr(t)?gr(t):mr(t,{})},getterFor:function(t){return function(e){var r;if(!Pr(e)||(r=gr(e)).type!==t)throw Nr("Incompatible receiver, "+t+" required");return r}}},zr=N,Ur=v,Br=et,Gr=Jt,Vr=b,Wr=lr.CONFIGURABLE,$r=vr,Hr=Zr.enforce,qr=Zr.get,Xr=String,Yr=Object.defineProperty,Kr=zr("".slice),Jr=zr("".replace),Qr=zr([].join),tn=Vr&&!Ur((function(){return 8!==Yr((function(){}),"length",{value:8}).length})),en=String(String).split("String"),rn=ir.exports=function(t,e,r){"Symbol("===Kr(Xr(e),0,7)&&(e="["+Jr(Xr(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Gr(t,"name")||Wr&&t.name!==e)&&(Vr?Yr(t,"name",{value:e,configurable:!0}):t.name=e),tn&&r&&Gr(r,"arity")&&t.length!==r.arity&&Yr(t,"length",{value:r.arity});try{r&&Gr(r,"constructor")&&r.constructor?Vr&&Yr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Hr(t);return Gr(n,"source")||(n.source=Qr(en,"string"==typeof e?e:"")),t};Function.prototype.toString=rn((function(){return Br(this)&&qr(this).source||$r(this)}),"toString");var nn=ir.exports,on=et,an=Ze,sn=nn,un=Ut,cn=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;if(on(r)&&sn(r,i,n),n.global)o?t[e]=r:un(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=r:an.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},fn={},ln=Math.ceil,hn=Math.floor,pn=Math.trunc||function(t){var e=+t;return(e>0?hn:ln)(e)},dn=function(t){var e=+t;return e!=e||0===e?0:pn(e)},mn=dn,gn=Math.max,yn=Math.min,vn=function(t,e){var r=mn(t);return r<0?gn(r+e,0):yn(r,e)},bn=dn,wn=Math.min,kn=function(t){return t>0?wn(bn(t),9007199254740991):0},On=function(t){return kn(t.length)},Sn=K,En=vn,Mn=On,xn=function(t){return function(e,r,n){var o,i=Sn(e),a=Mn(i),s=En(n,a);if(t&&r!=r){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},jn={includes:xn(!0),indexOf:xn(!1)},Pn=Jt,An=K,_n=jn.indexOf,Tn=Mr,Cn=N([].push),Ln=function(t,e){var r,n=An(t),o=0,i=[];for(r in n)!Pn(Tn,r)&&Pn(n,r)&&Cn(i,r);for(;e.length>o;)Pn(n,r=e[o++])&&(~_n(i,r)||Cn(i,r));return i},In=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Nn=Ln,Dn=In.concat("length","prototype");fn.f=Object.getOwnPropertyNames||function(t){return Nn(t,Dn)};var Rn={};Rn.f=Object.getOwnPropertySymbols;var Fn=st,Zn=fn,zn=Rn,Un=Ve,Bn=N([].concat),Gn=Fn("Reflect","ownKeys")||function(t){var e=Zn.f(Un(t)),r=zn.f;return r?Bn(e,r(t)):e},Vn=Jt,Wn=Gn,$n=y,Hn=Ze,qn=v,Xn=et,Yn=/#|\.prototype\./,Kn=function(t,e){var r=Qn[Jn(t)];return r==eo||r!=to&&(Xn(e)?qn(e):!!e)},Jn=Kn.normalize=function(t){return String(t).replace(Yn,".").toLowerCase()},Qn=Kn.data={},to=Kn.NATIVE="N",eo=Kn.POLYFILL="P",ro=Kn,no=g,oo=y.f,io=or,ao=cn,so=Ut,uo=function(t,e,r){for(var n=Wn(e),o=Hn.f,i=$n.f,a=0;a<n.length;a++){var s=n[a];Vn(t,s)||r&&Vn(r,s)||o(t,s,i(e,s))}},co=ro,fo=function(t,e){var r,n,o,i,a,s=t.target,u=t.global,c=t.stat;if(r=u?no:c?no[s]||so(s,{}):(no[s]||{}).prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=oo(r,n))&&a.value:r[n],!co(u?n:s+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;uo(i,o)}(t.sham||o&&o.sham)&&io(i,"sham",!0),ao(r,n,i,t)}},lo=Z,ho=N,po=function(t){if("Function"===lo(t))return ho(t)},mo=Tt,go=w,yo=po(po.bind),vo=Z,bo=Array.isArray||function(t){return"Array"==vo(t)},wo={};wo[he("toStringTag")]="z";var ko="[object z]"===String(wo),Oo=ko,So=et,Eo=Z,Mo=he("toStringTag"),xo=Object,jo="Arguments"==Eo(function(){return arguments}()),Po=Oo?Eo:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=xo(t),Mo))?r:jo?Eo(e):"Object"==(n=Eo(e))&&So(e.callee)?"Arguments":n},Ao=N,_o=v,To=et,Co=Po,Lo=vr,Io=function(){},No=[],Do=st("Reflect","construct"),Ro=/^\s*(?:class|function)\b/,Fo=Ao(Ro.exec),Zo=!Ro.exec(Io),zo=function(t){if(!To(t))return!1;try{return Do(Io,No,t),!0}catch(t){return!1}},Uo=function(t){if(!To(t))return!1;switch(Co(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Zo||!!Fo(Ro,Lo(t))}catch(t){return!0}};Uo.sham=!0;var Bo=!Do||_o((function(){var t;return zo(zo.call)||!zo(Object)||!zo((function(){t=!0}))||t}))?Uo:zo,Go=bo,Vo=Bo,Wo=ot,$o=he("species"),Ho=Array,qo=function(t){var e;return Go(t)&&(e=t.constructor,(Vo(e)&&(e===Ho||Go(e.prototype))||Wo(e)&&null===(e=e[$o]))&&(e=void 0)),void 0===e?Ho:e},Xo=function(t,e){return new(qo(t))(0===e?0:e)},Yo=function(t,e){return mo(t),void 0===e?t:go?yo(t,e):function(){return t.apply(e,arguments)}},Ko=V,Jo=Xt,Qo=On,ti=Xo,ei=N([].push),ri=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,s=5==t||i;return function(u,c,f,l){for(var h,p,d=Jo(u),m=Ko(d),g=Yo(c,f),y=Qo(m),v=0,b=l||ti,w=e?b(u,y):r||a?b(u,0):void 0;y>v;v++)if((s||v in m)&&(p=g(h=m[v],v,d),t))if(e)w[v]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return v;case 2:ei(w,h)}else switch(t){case 4:return!1;case 7:ei(w,h)}return i?-1:n||o?o:w}},ni={forEach:ri(0),map:ri(1),filter:ri(2),some:ri(3),every:ri(4),find:ri(5),findIndex:ri(6),filterReject:ri(7)},oi=v,ii=mt,ai=he("species"),si=function(t){return ii>=51||!oi((function(){var e=[];return(e.constructor={})[ai]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},ui=ni.map;function ci(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}fo({target:"Array",proto:!0,forced:!si("map")},{map:function(t){return ui(this,t,arguments.length>1?arguments[1]:void 0)}});var fi=ni.filter;fo({target:"Array",proto:!0,forced:!si("filter")},{filter:function(t){return fi(this,t,arguments.length>1?arguments[1]:void 0)}});var li=Po,hi=ko?{}.toString:function(){return"[object "+li(this)+"]"};ko||cn(Object.prototype,"toString",hi,{unsafe:!0});var pi=function(){function t(){e(this,t)}return n(t,null,[{key:"isAdvancedMarkerAvailable",value:function(t){return google.maps.marker&&!0===t.getMapCapabilities().isAdvancedMarkersAvailable}},{key:"isAdvancedMarker",value:function(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}},{key:"setMap",value:function(t,e){this.isAdvancedMarker(t)?t.map=e:t.setMap(e)}},{key:"getPosition",value:function(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}},{key:"getVisible",value:function(t){return!!this.isAdvancedMarker(t)||t.getVisible()}}]),t}(),di=function(){function t(r){var n=r.markers,o=r.position;e(this,t),this.markers=n,o&&(o instanceof google.maps.LatLng?this._position=o:this._position=new google.maps.LatLng(o))}return n(t,[{key:"bounds",get:function(){if(0!==this.markers.length||this._position){var t,e=new google.maps.LatLngBounds(this._position,this._position),r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=l(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(this.markers);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.extend(pi.getPosition(n))}}catch(t){r.e(t)}finally{r.f()}return e}}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter((function(t){return pi.getVisible(t)})).length}},{key:"push",value:function(t){this.markers.push(t)}},{key:"delete",value:function(){this.marker&&(pi.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}]),t}(),mi=function(t,e,r,n){var o=gi(t.getBounds(),e,n);return r.filter((function(t){return o.contains(pi.getPosition(t))}))},gi=function(t,e,r){var n=vi(t,e),o=n.northEast,i=n.southWest,a=bi({northEast:o,southWest:i},r);return wi(a,e)},yi=function(t,e){var r=(e.lat-t.lat)*Math.PI/180,n=(e.lng-t.lng)*Math.PI/180,o=Math.sin(r/2),i=Math.sin(n/2),a=o*o+Math.cos(t.lat*Math.PI/180)*Math.cos(e.lat*Math.PI/180)*i*i;return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},vi=function(t,e){return{northEast:e.fromLatLngToDivPixel(t.getNorthEast()),southWest:e.fromLatLngToDivPixel(t.getSouthWest())}},bi=function(t,e){var r=t.northEast,n=t.southWest;return r.x+=e,r.y-=e,n.x-=e,n.y+=e,{northEast:r,southWest:n}},wi=function(t,e){var r=t.northEast,n=t.southWest,o=e.fromDivPixelToLatLng(n),i=e.fromDivPixelToLatLng(r);return new google.maps.LatLngBounds(o,i)},ki=function(){function t(r){var n=r.maxZoom,o=void 0===n?16:n;e(this,t),this.maxZoom=o}return n(t,[{key:"noop",value:function(t){var e=t.markers;return Si(e)}}]),t}(),Oi=function(t){o(i,t);var r=u(i);function i(t){var n;e(this,i);var o=t.viewportPadding,a=void 0===o?60:o,s=ci(t,["viewportPadding"]);return(n=r.call(this,s)).viewportPadding=60,n.viewportPadding=a,n}return n(i,[{key:"calculate",value:function(t){var e=t.markers,r=t.map,n=t.mapCanvasProjection;return r.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:mi(r,n,e,this.viewportPadding),map:r,mapCanvasProjection:n})}}}]),i}(ki),Si=function(t){return t.map((function(t){return new di({position:pi.getPosition(t),markers:[t]})}))},Ei=je("span").classList,Mi=Ei&&Ei.constructor&&Ei.constructor.prototype,xi=Mi===Object.prototype?void 0:Mi,ji=v,Pi=function(t,e){var r=[][t];return!!r&&ji((function(){r.call(null,e||function(){return 1},1)}))},Ai=ni.forEach,_i=Pi("forEach")?[].forEach:function(t){return Ai(this,t,arguments.length>1?arguments[1]:void 0)},Ti=g,Ci={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Li=xi,Ii=_i,Ni=or,Di=function(t){if(t&&t.forEach!==Ii)try{Ni(t,"forEach",Ii)}catch(e){t.forEach=Ii}};for(var Ri in Ci)Ci[Ri]&&Di(Ti[Ri]&&Ti[Ri].prototype);Di(Li);var Fi=S;fo({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Fi(URL.prototype.toString,this)}});var Zi=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(o=n;0!=o--;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var a=i[o];if(!t(e[a],r[a]))return!1}return!0}return e!=e&&r!=r},zi=d(Zi),Ui=function(t){o(i,t);var r=u(i);function i(t){var n;e(this,i);var o=t.maxDistance,a=void 0===o?4e4:o,s=t.gridSize,u=void 0===s?40:s,c=ci(t,["maxDistance","gridSize"]);return(n=r.call(this,c)).clusters=[],n.state={zoom:-1},n.maxDistance=a,n.gridSize=u,n}return n(i,[{key:"calculate",value:function(t){var e=t.markers,r=t.map,n=t.mapCanvasProjection,o={zoom:r.getZoom()},i=!1;return this.state.zoom>=this.maxZoom&&o.zoom>=this.maxZoom||(i=!zi(this.state,o)),this.state=o,r.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e}),changed:i}:{clusters:this.cluster({markers:mi(r,n,e,this.viewportPadding),map:r,mapCanvasProjection:n})}}},{key:"cluster",value:function(t){var e=this,r=t.markers,n=t.map,o=t.mapCanvasProjection;return this.clusters=[],r.forEach((function(t){e.addToClosestCluster(t,n,o)})),this.clusters}},{key:"addToClosestCluster",value:function(t,e,r){for(var n=this.maxDistance,o=null,i=0;i<this.clusters.length;i++){var a=this.clusters[i],s=yi(a.bounds.getCenter().toJSON(),pi.getPosition(t).toJSON());s<n&&(n=s,o=a)}if(o&&gi(o.bounds,r,this.gridSize).contains(pi.getPosition(t)))o.push(t);else{var u=new di({markers:[t]});this.clusters.push(u)}}}]),i}(Oi),Bi=function(t){o(i,t);var r=u(i);function i(t){e(this,i);var n=ci(t,[]);return r.call(this,n)}return n(i,[{key:"calculate",value:function(t){var e=t.markers,r=t.map,n=t.mapCanvasProjection;return{clusters:this.cluster({markers:e,map:r,mapCanvasProjection:n}),changed:!1}}},{key:"cluster",value:function(t){return this.noop(t)}}]),i}(ki),Gi=Ln,Vi=In,Wi=Object.keys||function(t){return Gi(t,Vi)},$i=b,Hi=N,qi=S,Xi=v,Yi=Wi,Ki=Rn,Ji=E,Qi=Xt,ta=V,ea=Object.assign,ra=Object.defineProperty,na=Hi([].concat),oa=!ea||Xi((function(){if($i&&1!==ea({b:1},ea(ra({},"a",{enumerable:!0,get:function(){ra(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=ea({},t)[r]||Yi(ea({},e)).join("")!=n}))?function(t,e){for(var r=Qi(t),n=arguments.length,o=1,i=Ki.f,a=Ji.f;n>o;)for(var s,u=ta(arguments[o++]),c=i?na(Yi(u),i(u)):Yi(u),f=c.length,l=0;f>l;)s=c[l++],$i&&!qi(a,u,s)||(r[s]=u[s]);return r}:ea,ia=oa;fo({target:"Object",stat:!0,arity:2,forced:Object.assign!==ia},{assign:ia});const aa=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class sa{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[e,r]=new Uint8Array(t,0,2);if(219!==e)throw new Error("Data does not appear to be in a KDBush format.");const n=r>>4;if(1!==n)throw new Error(`Got v${n} data when expected v1.`);const o=aa[15&r];if(!o)throw new Error("Unrecognized array type.");const[i]=new Uint16Array(t,2,1),[a]=new Uint32Array(t,4,1);return new sa(a,i,o,t)}constructor(t,e=64,r=Float64Array,n){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+e,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const o=aa.indexOf(this.ArrayType),i=2*t*this.ArrayType.BYTES_PER_ELEMENT,a=t*this.IndexArrayType.BYTES_PER_ELEMENT,s=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);n&&n instanceof ArrayBuffer?(this.data=n,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+s,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+i+a+s),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+a+s,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+o]),new Uint16Array(this.data,2,1)[0]=e,new Uint32Array(this.data,4,1)[0]=t)}add(t,e){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=e,r}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return ua(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:i,nodeSize:a}=this,s=[0,o.length-1,0],u=[];for(;s.length;){const c=s.pop()||0,f=s.pop()||0,l=s.pop()||0;if(f-l<=a){for(let a=l;a<=f;a++){const s=i[2*a],c=i[2*a+1];s>=t&&s<=r&&c>=e&&c<=n&&u.push(o[a])}continue}const h=l+f>>1,p=i[2*h],d=i[2*h+1];p>=t&&p<=r&&d>=e&&d<=n&&u.push(o[h]),(0===c?t<=p:e<=d)&&(s.push(l),s.push(h-1),s.push(1-c)),(0===c?r>=p:n>=d)&&(s.push(h+1),s.push(f),s.push(1-c))}return u}within(t,e,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n,coords:o,nodeSize:i}=this,a=[0,n.length-1,0],s=[],u=r*r;for(;a.length;){const c=a.pop()||0,f=a.pop()||0,l=a.pop()||0;if(f-l<=i){for(let r=l;r<=f;r++)ha(o[2*r],o[2*r+1],t,e)<=u&&s.push(n[r]);continue}const h=l+f>>1,p=o[2*h],d=o[2*h+1];ha(p,d,t,e)<=u&&s.push(n[h]),(0===c?t-r<=p:e-r<=d)&&(a.push(l),a.push(h-1),a.push(1-c)),(0===c?t+r>=p:e+r>=d)&&(a.push(h+1),a.push(f),a.push(1-c))}return s}}function ua(t,e,r,n,o,i){if(o-n<=r)return;const a=n+o>>1;ca(t,e,a,n,o,i),ua(t,e,r,n,a-1,1-i),ua(t,e,r,a+1,o,1-i)}function ca(t,e,r,n,o,i){for(;o>n;){if(o-n>600){const a=o-n+1,s=r-n+1,u=Math.log(a),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(a-c)/a)*(s-a/2<0?-1:1);ca(t,e,r,Math.max(n,Math.floor(r-s*c/a+f)),Math.min(o,Math.floor(r+(a-s)*c/a+f)),i)}const a=e[2*r+i];let s=n,u=o;for(fa(t,e,n,r),e[2*o+i]>a&&fa(t,e,n,o);s<u;){for(fa(t,e,s,u),s++,u--;e[2*s+i]<a;)s++;for(;e[2*u+i]>a;)u--}e[2*n+i]===a?fa(t,e,n,u):(u++,fa(t,e,u,o)),u<=r&&(n=u+1),r<=u&&(o=u-1)}}function fa(t,e,r,n){la(t,r,n),la(e,2*r,2*n),la(e,2*r+1,2*n+1)}function la(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function ha(t,e,r,n){const o=t-r,i=e-n;return o*o+i*i}const pa={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},da=Math.fround||(ma=new Float32Array(1),t=>(ma[0]=+t,ma[0]));var ma;const ga=3,ya=5,va=6;class ba{constructor(t){this.options=Object.assign(Object.create(pa),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:e,minZoom:r,maxZoom:n}=this.options;e&&console.time("total time");const o=`prepare ${t.length} points`;e&&console.time(o),this.points=t;const i=[];for(let e=0;e<t.length;e++){const r=t[e];if(!r.geometry)continue;const[n,o]=r.geometry.coordinates,a=da(Oa(n)),s=da(Sa(o));i.push(a,s,1/0,e,-1,1),this.options.reduce&&i.push(0)}let a=this.trees[n+1]=this._createTree(i);e&&console.timeEnd(o);for(let t=n;t>=r;t--){const r=+Date.now();a=this.trees[t]=this._createTree(this._cluster(a,t)),e&&console.log("z%d: %d clusters in %dms",t,a.numItems,+Date.now()-r)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let r=((t[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[1]));let o=180===t[2]?180:((t[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,o=180;else if(r>o){const t=this.getClusters([r,n,180,i],e),a=this.getClusters([-180,n,o,i],e);return t.concat(a)}const a=this.trees[this._limitZoom(e)],s=a.range(Oa(r),Sa(i),Oa(o),Sa(n)),u=a.data,c=[];for(const t of s){const e=this.stride*t;c.push(u[e+ya]>1?wa(u,e,this.clusterProps):this.points[u[e+ga]])}return c}getChildren(t){const e=this._getOriginId(t),r=this._getOriginZoom(t),n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);const i=o.data;if(e*this.stride>=i.length)throw new Error(n);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=i[e*this.stride],u=i[e*this.stride+1],c=o.within(s,u,a),f=[];for(const e of c){const r=e*this.stride;i[r+4]===t&&f.push(i[r+ya]>1?wa(i,r,this.clusterProps):this.points[i[r+ga]])}if(0===f.length)throw new Error(n);return f}getLeaves(t,e,r){e=e||10,r=r||0;const n=[];return this._appendLeaves(n,t,e,r,0),n}getTile(t,e,r){const n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:i,radius:a}=this.options,s=a/i,u=(r-s)/o,c=(r+1+s)/o,f={features:[]};return this._addTileFeatures(n.range((e-s)/o,u,(e+1+s)/o,c),n.data,e,r,o,f),0===e&&this._addTileFeatures(n.range(1-s/o,u,1,c),n.data,o,r,o,f),e===o-1&&this._addTileFeatures(n.range(0,u,s/o,c),n.data,-1,r,o,f),f.features.length?f:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e}_appendLeaves(t,e,r,n,o){const i=this.getChildren(e);for(const e of i){const i=e.properties;if(i&&i.cluster?o+i.point_count<=n?o+=i.point_count:o=this._appendLeaves(t,i.cluster_id,r,n,o):o<n?o++:t.push(e),t.length===r)break}return o}_createTree(t){const e=new sa(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<t.length;r+=this.stride)e.add(t[r],t[r+1]);return e.finish(),e.data=t,e}_addTileFeatures(t,e,r,n,o,i){for(const a of t){const t=a*this.stride,s=e[t+ya]>1;let u,c,f;if(s)u=ka(e,t,this.clusterProps),c=e[t],f=e[t+1];else{const r=this.points[e[t+ga]];u=r.properties;const[n,o]=r.geometry.coordinates;c=Oa(n),f=Sa(o)}const l={type:1,geometry:[[Math.round(this.options.extent*(c*o-r)),Math.round(this.options.extent*(f*o-n))]],tags:u};let h;h=s||this.options.generateId?e[t+ga]:this.points[e[t+ga]].id,void 0!==h&&(l.id=h),i.features.push(l)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const{radius:r,extent:n,reduce:o,minPoints:i}=this.options,a=r/(n*Math.pow(2,e)),s=t.data,u=[],c=this.stride;for(let r=0;r<s.length;r+=c){if(s[r+2]<=e)continue;s[r+2]=e;const n=s[r],f=s[r+1],l=t.within(s[r],s[r+1],a),h=s[r+ya];let p=h;for(const t of l){const r=t*c;s[r+2]>e&&(p+=s[r+ya])}if(p>h&&p>=i){let t,i=n*h,a=f*h,d=-1;const m=((r/c|0)<<5)+(e+1)+this.points.length;for(const n of l){const u=n*c;if(s[u+2]<=e)continue;s[u+2]=e;const f=s[u+ya];i+=s[u]*f,a+=s[u+1]*f,s[u+4]=m,o&&(t||(t=this._map(s,r,!0),d=this.clusterProps.length,this.clusterProps.push(t)),o(t,this._map(s,u)))}s[r+4]=m,u.push(i/p,a/p,1/0,m,-1,p),o&&u.push(d)}else{for(let t=0;t<c;t++)u.push(s[r+t]);if(p>1)for(const t of l){const r=t*c;if(!(s[r+2]<=e)){s[r+2]=e;for(let t=0;t<c;t++)u.push(s[r+t])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e,r){if(t[e+ya]>1){const n=this.clusterProps[t[e+va]];return r?Object.assign({},n):n}const n=this.points[t[e+ga]].properties,o=this.options.map(n);return r&&o===n?Object.assign({},o):o}}function wa(t,e,r){return{type:"Feature",id:t[e+ga],properties:ka(t,e,r),geometry:{type:"Point",coordinates:[(n=t[e],360*(n-.5)),Ea(t[e+1])]}};var n}function ka(t,e,r){const n=t[e+ya],o=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?Math.round(n/100)/10+"k":n,i=t[e+va],a=-1===i?{}:Object.assign({},r[i]);return Object.assign(a,{cluster:!0,cluster_id:t[e+ga],point_count:n,point_count_abbreviated:o})}function Oa(t){return t/360+.5}function Sa(t){const e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function Ea(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}var Ma=function(t){o(i,t);var r=u(i);function i(t){var n;e(this,i);var o=t.maxZoom,a=t.radius,s=void 0===a?60:a,u=ci(t,["maxZoom","radius"]);return(n=r.call(this,{maxZoom:o})).state={zoom:-1},n.superCluster=new ba(Object.assign({maxZoom:n.maxZoom,radius:s},u)),n}return n(i,[{key:"calculate",value:function(t){var e=!1,r={zoom:t.map.getZoom()};if(!zi(t.markers,this.markers)){e=!0,this.markers=f(t.markers);var n=this.markers.map((function(t){var e=pi.getPosition(t);return{type:"Feature",geometry:{type:"Point",coordinates:[e.lng(),e.lat()]},properties:{marker:t}}}));this.superCluster.load(n)}return e||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(e=!zi(this.state,r)),this.state=r,e&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:e}}},{key:"cluster",value:function(t){var e=this,r=t.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map((function(t){return e.transformCluster(t)}))}},{key:"transformCluster",value:function(t){var e=c(t.geometry.coordinates,2),r=e[0],n=e[1],o=t.properties;if(o.cluster)return new di({markers:this.superCluster.getLeaves(o.cluster_id,1/0).map((function(t){return t.properties.marker})),position:{lat:n,lng:r}});var i=o.marker;return new di({markers:[i],position:pi.getPosition(i)})}}]),i}(ki),xa={},ja=b,Pa=ze,Aa=Ze,_a=Ve,Ta=K,Ca=Wi;xa.f=ja&&!Pa?Object.defineProperties:function(t,e){_a(t);for(var r,n=Ta(e),o=Ca(e),i=o.length,a=0;i>a;)Aa.f(t,r=o[a++],n[r]);return t};var La,Ia=st("document","documentElement"),Na=Ve,Da=xa,Ra=In,Fa=Mr,Za=Ia,za=je,Ua="prototype",Ba="script",Ga=Er("IE_PROTO"),Va=function(){},Wa=function(t){return"<"+Ba+">"+t+"</"+Ba+">"},$a=function(t){t.write(Wa("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ha=function(){try{La=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;Ha="undefined"!=typeof document?document.domain&&La?$a(La):(e=za("iframe"),r="java"+Ba+":",e.style.display="none",Za.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(Wa("document.F=Object")),t.close(),t.F):$a(La);for(var n=Ra.length;n--;)delete Ha[Ua][Ra[n]];return Ha()};Fa[Ga]=!0;var qa=he,Xa=Object.create||function(t,e){var r;return null!==t?(Va[Ua]=Na(t),r=new Va,Va[Ua]=null,r[Ga]=t):r=Ha(),void 0===e?r:Da.f(r,e)},Ya=Ze.f,Ka=qa("unscopables"),Ja=Array.prototype;null==Ja[Ka]&&Ya(Ja,Ka,{configurable:!0,value:Xa(null)});var Qa=jn.includes,ts=function(t){Ja[Ka][t]=!0};fo({target:"Array",proto:!0,forced:v((function(){return!Array(1).includes()}))},{includes:function(t){return Qa(this,t,arguments.length>1?arguments[1]:void 0)}}),ts("includes");var es=ot,rs=Z,ns=he("match"),os=function(t){var e;return es(t)&&(void 0!==(e=t[ns])?!!e:"RegExp"==rs(t))},is=TypeError,as=Po,ss=String,us=function(t){if("Symbol"===as(t))throw TypeError("Cannot convert a Symbol value to a string");return ss(t)},cs=he("match"),fs=fo,ls=function(t){if(os(t))throw is("The method doesn't accept regular expressions");return t},hs=q,ps=us,ds=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[cs]=!1,"/./"[t](e)}catch(t){}}return!1},ms=N("".indexOf);fs({target:"String",proto:!0,forced:!ds("includes")},{includes:function(t){return!!~ms(ps(hs(this)),ps(ls(t)),arguments.length>1?arguments[1]:void 0)}});var gs=fo,ys=jn.indexOf,vs=Pi,bs=po([].indexOf),ws=!!bs&&1/bs([1],1,-0)<0;gs({target:"Array",proto:!0,forced:ws||!vs("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return ws?bs(this,t,e)||0:ys(this,t,e)}});var ks=b,Os=bo,Ss=TypeError,Es=Object.getOwnPropertyDescriptor,Ms=ks&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),xs=TypeError,js=function(t){if(t>9007199254740991)throw xs("Maximum allowed index exceeded");return t},Ps=Se,As=Ze,_s=_,Ts=function(t,e,r){var n=Ps(e);n in t?As.f(t,n,_s(0,r)):t[n]=r},Cs=jt,Ls=TypeError,Is=fo,Ns=Xt,Ds=vn,Rs=dn,Fs=On,Zs=Ms?function(t,e){if(Os(t)&&!Es(t,"length").writable)throw Ss("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},zs=js,Us=Xo,Bs=Ts,Gs=function(t,e){if(!delete t[e])throw Ls("Cannot delete property "+Cs(e)+" of "+Cs(t))},Vs=si("splice"),Ws=Math.max,$s=Math.min;Is({target:"Array",proto:!0,forced:!Vs},{splice:function(t,e){var r,n,o,i,a,s,u=Ns(this),c=Fs(u),f=Ds(t,c),l=arguments.length;for(0===l?r=n=0:1===l?(r=0,n=c-f):(r=l-2,n=$s(Ws(Rs(e),0),c-f)),zs(c+r-n),o=Us(u,n),i=0;i<n;i++)(a=f+i)in u&&Bs(o,i,u[a]);if(o.length=n,r<n){for(i=f;i<c-n;i++)s=i+r,(a=i+n)in u?u[s]=u[a]:Gs(u,s);for(i=c;i>c-n+r;i--)Gs(u,i-1)}else if(r>n)for(i=c-n;i>f;i--)s=i+r-1,(a=i+n-1)in u?u[s]=u[a]:Gs(u,s);for(i=0;i<r;i++)u[i+f]=arguments[i+2];return Zs(u,c-n+r),o}});var Hs=Tt,qs=Xt,Xs=V,Ys=On,Ks=TypeError,Js=function(t){return function(e,r,n,o){Hs(r);var i=qs(e),a=Xs(i),s=Ys(i),u=t?s-1:0,c=t?-1:1;if(n<2)for(;;){if(u in a){o=a[u],u+=c;break}if(u+=c,t?u<0:s<=u)throw Ks("Reduce of empty array with no initial value")}for(;t?u>=0:s>u;u+=c)u in a&&(o=r(o,a[u],u,i));return o}},Qs={left:Js(!1),right:Js(!0)},tu="undefined"!=typeof process&&"process"==Z(process),eu=Qs.left;fo({target:"Array",proto:!0,forced:!tu&&mt>79&&mt<83||!Pi("reduce")},{reduce:function(t){var e=arguments.length;return eu(this,t,e,e>1?arguments[1]:void 0)}});var ru=fo,nu=v,ou=bo,iu=ot,au=Xt,su=On,uu=js,cu=Ts,fu=Xo,lu=si,hu=mt,pu=he("isConcatSpreadable"),du=hu>=51||!nu((function(){var t=[];return t[pu]=!1,t.concat()[0]!==t})),mu=function(t){if(!iu(t))return!1;var e=t[pu];return void 0!==e?!!e:ou(t)};ru({target:"Array",proto:!0,arity:1,forced:!du||!lu("concat")},{concat:function(t){var e,r,n,o,i,a=au(this),s=fu(a,0),u=0;for(e=-1,n=arguments.length;e<n;e++)if(mu(i=-1===e?a:arguments[e]))for(o=su(i),uu(u+o),r=0;r<o;r++,u++)r in i&&cu(s,u,i[r]);else uu(u+1),cu(s,u++,i);return s.length=u,s}});var gu=g,yu=N,vu=Tt,bu=et,wu=String,ku=TypeError,Ou=function(t,e,r){try{return yu(vu(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}},Su=Ve,Eu=function(t){if("object"==typeof t||bu(t))return t;throw ku("Can't set "+wu(t)+" as a prototype")},Mu=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Ou(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Su(r),Eu(n),e?t(r,n):r.__proto__=n,r}}():void 0),xu=et,ju=ot,Pu=Mu,Au=N(1..valueOf),_u=q,Tu=us,Cu="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",Lu=N("".replace),Iu=RegExp("^["+Cu+"]+"),Nu=RegExp("(^|[^"+Cu+"])["+Cu+"]+$"),Du=function(t){return function(e){var r=Tu(_u(e));return 1&t&&(r=Lu(r,Iu,"")),2&t&&(r=Lu(r,Nu,"$1")),r}},Ru={start:Du(1),end:Du(2),trim:Du(3)},Fu=fo,Zu=b,zu=g,Uu=gu,Bu=N,Gu=ro,Vu=Jt,Wu=function(t,e,r){var n,o;return Pu&&xu(n=e.constructor)&&n!==r&&ju(o=n.prototype)&&o!==r.prototype&&Pu(t,o),t},$u=ut,Hu=Mt,qu=we,Xu=v,Yu=fn.f,Ku=y.f,Ju=Ze.f,Qu=Au,tc=Ru.trim,ec="Number",rc=zu[ec];Uu[ec];var nc=rc.prototype,oc=zu.TypeError,ic=Bu("".slice),ac=Bu("".charCodeAt),sc=function(t){var e,r,n,o,i,a,s,u,c=qu(t,"number");if(Hu(c))throw oc("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=tc(c),43===(e=ac(c,0))||45===e){if(88===(r=ac(c,2))||120===r)return NaN}else if(48===e){switch(ac(c,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(a=(i=ic(c,2)).length,s=0;s<a;s++)if((u=ac(i,s))<48||u>o)return NaN;return parseInt(i,n)}return+c},uc=Gu(ec,!rc(" 0o1")||!rc("0b1")||rc("+0x1")),cc=function(t){var e,r=arguments.length<1?0:rc(function(t){var e=qu(t,"number");return"bigint"==typeof e?e:sc(e)}(t));return $u(nc,e=this)&&Xu((function(){Qu(e)}))?Wu(Object(r),this,cc):r};cc.prototype=nc,uc&&(nc.constructor=cc),Fu({global:!0,constructor:!0,wrap:!0,forced:uc},{Number:cc});uc&&function(t,e){for(var r,n=Zu?Yu(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;n.length>o;o++)Vu(e,r=n[o])&&!Vu(t,r)&&Ju(t,r,Ku(e,r))}(Uu[ec],rc);var fc=n((function t(r,n){e(this,t),this.markers={sum:r.length};var o=n.map((function(t){return t.count})),i=o.reduce((function(t,e){return t+e}),0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min.apply(Math,f(o)),max:Math.max.apply(Math,f(o))}}})),lc=function(){function t(){e(this,t)}return n(t,[{key:"render",value:function(t,e,r){var n=t.count,o=t.position,i=n>Math.max(10,e.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(i,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(n,"</text>\n</svg>"),s="Cluster of ".concat(n," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+n;if(pi.isAdvancedMarkerAvailable(r)){var c=document.createElement("div");c.innerHTML=a;var f=c.firstElementChild;f.setAttribute("transform","translate(0 25)");var l={map:r,position:o,zIndex:u,title:s,content:f};return new google.maps.marker.AdvancedMarkerElement(l)}var h={position:o,zIndex:u,title:s,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(h)}}]),t}();var hc,pc=n((function t(){e(this,t),function(t,e){for(var r in e.prototype)t.prototype[r]=e.prototype[r]}(t,google.maps.OverlayView)}));t.MarkerClustererEvents=void 0,(hc=t.MarkerClustererEvents||(t.MarkerClustererEvents={})).CLUSTERING_BEGIN="clusteringbegin",hc.CLUSTERING_END="clusteringend",hc.CLUSTER_CLICK="click";var dc=function(t,e,r){r.fitBounds(e.bounds)},mc=function(r){o(a,r);var i=u(a);function a(t){var r,n=t.map,o=t.markers,s=void 0===o?[]:o,u=t.algorithmOptions,c=void 0===u?{}:u,l=t.algorithm,h=void 0===l?new Ma(c):l,p=t.renderer,d=void 0===p?new lc:p,m=t.onClusterClick,g=void 0===m?dc:m;return e(this,a),(r=i.call(this)).markers=f(s),r.clusters=[],r.algorithm=h,r.renderer=d,r.onClusterClick=g,n&&r.setMap(n),r}return n(a,[{key:"addMarker",value:function(t,e){this.markers.includes(t)||(this.markers.push(t),e||this.render())}},{key:"addMarkers",value:function(t,e){var r=this;t.forEach((function(t){r.addMarker(t,!0)})),e||this.render()}},{key:"removeMarker",value:function(t,e){var r=this.markers.indexOf(t);return-1!==r&&(pi.setMap(t,null),this.markers.splice(r,1),e||this.render(),!0)}},{key:"removeMarkers",value:function(t,e){var r=this,n=!1;return t.forEach((function(t){n=r.removeMarker(t,!0)||n})),n&&!e&&this.render(),n}},{key:"clearMarkers",value:function(t){this.markers.length=0,t||this.render()}},{key:"render",value:function(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,t.MarkerClustererEvents.CLUSTERING_BEGIN,this);var r=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()}),n=r.clusters,o=r.changed;(o||null==o)&&(this.reset(),this.clusters=n,this.renderClusters()),google.maps.event.trigger(this,t.MarkerClustererEvents.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach((function(t){return pi.setMap(t,null)})),this.clusters.forEach((function(t){return t.delete()})),this.clusters=[]}},{key:"renderClusters",value:function(){var e=this,r=new fc(this.markers,this.clusters),n=this.getMap();this.clusters.forEach((function(o){1===o.markers.length?o.marker=o.markers[0]:(o.marker=e.renderer.render(o,r,n),e.onClusterClick&&o.marker.addListener("click",(function(r){google.maps.event.trigger(e,t.MarkerClustererEvents.CLUSTER_CLICK,o),e.onClusterClick(r,o,n)}))),pi.setMap(o.marker,n)}))}}]),a}(pc);t.AbstractAlgorithm=ki,t.AbstractViewportAlgorithm=Oi,t.Cluster=di,t.ClusterStats=fc,t.DefaultRenderer=lc,t.GridAlgorithm=Ui,t.MarkerClusterer=mc,t.NoopAlgorithm=Bi,t.SuperClusterAlgorithm=Ma,t.defaultOnClusterClickHandler=dc,t.distanceBetweenPoints=yi,t.extendBoundsToPaddedViewport=gi,t.extendPixelBounds=bi,t.filterMarkersToPaddedViewport=mi,t.noop=Si,t.pixelBoundsToLatLngBounds=wi,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.js.map
